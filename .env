# HemoStat Environment Configuration
# Copy this file to .env and customize for your environment
# WARNING: Never commit .env to version control - it may contain secrets!

# ============================================================================
# Redis Configuration
# ============================================================================
# Redis server hostname (use 'redis' for Docker Compose, 'localhost' for local dev)
REDIS_HOST=localhost

# Redis server port (default: 6379)
REDIS_PORT=6379

# Redis database number (default: 0)
REDIS_DB=0

# Redis password (empty for local dev, required for production)
REDIS_PASSWORD=

# ============================================================================
# Logging Configuration
# ============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json or text
LOG_FORMAT=json

# ============================================================================
# Agent Configuration
# ============================================================================
# Polling interval for Monitor agent (seconds between health checks)
AGENT_POLL_INTERVAL=30

# Maximum retry attempts for failed operations
AGENT_RETRY_MAX=3

# Initial retry delay in seconds (uses exponential backoff)
AGENT_RETRY_DELAY=1

# ============================================================================
# Threshold Configuration (for Monitor Agent)
# ============================================================================
# CPU usage alert threshold (percentage)
THRESHOLD_CPU_PERCENT=85

# Memory usage alert threshold (percentage)
THRESHOLD_MEMORY_PERCENT=80

# Disk usage alert threshold (percentage)
THRESHOLD_DISK_PERCENT=90

# ============================================================================
# Safety Configuration (for Responder Agent)
# ============================================================================
# Cooldown period between remediation actions (seconds)
RESPONDER_COOLDOWN_SECONDS=3600

# Maximum remediation attempts per hour (circuit breaker)
RESPONDER_MAX_RETRIES_PER_HOUR=3

# Dry-run mode: set to true to test without actual remediation
RESPONDER_DRY_RUN=false

# Enforce strict command allowlist for exec action (hardening measure)
RESPONDER_ENFORCE_EXEC_ALLOWLIST=false

# ============================================================================
# Alert Configuration (for Alert Agent)
# ============================================================================
# Slack incoming webhook URL (leave empty to disable Slack notifications)
SLACK_WEBHOOK_URL=

# Master switch for all notifications
ALERT_ENABLED=true

# ============================================================================
# AI Configuration (for Analyzer Agent)
# ============================================================================
# OpenAI API key for GPT-4 (leave empty to disable)
OPENAI_API_KEY=

# Anthropic API key for Claude (leave empty to disable)
ANTHROPIC_API_KEY=

# AI model to use: gpt-4, claude-3-opus, claude-3-sonnet
AI_MODEL=gpt-4

# Fall back to rule-based logic if AI service fails
AI_FALLBACK_ENABLED=true

# ============================================================================
# Docker Configuration
# ============================================================================
# Docker daemon socket (for container monitoring)
DOCKER_HOST=npipe:////./pipe/docker_engine

# ============================================================================
# Dashboard Configuration
# ============================================================================
# Streamlit dashboard port
DASHBOARD_PORT=8501

# Dashboard refresh interval (seconds)
DASHBOARD_REFRESH_INTERVAL=5
